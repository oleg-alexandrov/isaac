<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISAAC: Simulation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISAAC
   &#160;<span id="projectnumber">0.2.5</span>
   </div>
   <div id="projectbrief">Flight software for the ISAAC project, adding functionality to the Astrobee robot, operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sim.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Simulation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Simulation contains the packages where the dense maps are built</p>
<p>This page describes the isaac gazebo plugins.</p>
<h3><a class="anchor" id="autotoc_md56"></a>
Heat cam</h3>
<p>This plugin simulates a heat-detecting camera, with the color in the images it produces suggestive of the temperature on the surface of the 3D environment seen in the camera.</p>
<p>The file</p>
<p>isaac/isaac/config/hw/heat_cam.config</p>
<p>controls the behavior of this camera. It is read only once, when the simulator is started. Its various parameters as follows:</p>
<ul>
<li>heat_cam_rate: The update rate of the camera. It is suggested to keep it at 1.0 for nominal behavior, decrease it to make the camera images be updated less often, and to set it to 0.0 to have this sensor off.</li>
<li>continuous_picture_taking: If the camera should take pictures as often as it can. The alternative is for it to wait until it receives a command over the guest science topic when a single picture should be taken (see more below).</li>
<li>min_radiance and max_radiance: The radiance ("temperature") being measured is assumed to fall between these values. Any measurements outside of this range will be clamped to it. These values will be mapped to the "coolest" and "hottest" colors in the color image.</li>
<li>ambient_radiance: The radiance away from any hot or cold spots.</li>
</ul>
<p>Each hot or cold spot will be assumed to be circular, and will be characterized by six numbers. They determine a spot's position in Cartesian coordinates, inner radius of the hot/cold spot, its outer radius, and its delta radiance.</p>
<p>Inside the inner radius region the radiance will be</p>
<p>ambient_radiance + delta_radiance</p>
<p>and it will gradually change to the ambient radiance by the time the boundary of the outer radius is reached.</p>
<p>This camera publishes the RGB heat image, its pose and intrinsics, on topics:</p>
<p>/hw/cam_heat /sim/heat_cam/pose /sim/heat_cam/info</p>
<p>To launch the simulator and see the heat map, first set up the environment. The paths below may need to be adjusted for your system.</p>
<p>export ASTROBEE_SOURCE_PATH=$HOME/astrobee/src export ASTROBEE_BUILD_PATH=$HOME/astrobee export ISAAC_WS=$HOME/isaac source $ASTROBEE_BUILD_PATH/devel/setup.bash source $ISAAC_WS/devel/setup.bash</p>
<p>Then run:</p>
<p>roslaunch isaac sim.launch world:=iss rviz:=true \ pose:="11.2 -7.72 5.0 0 0 0 0 1"</p>
<p>Note that as the robot moves and leaves the hot spots behind, the heat cam will only show the constant ambient temperature.</p>
<p>By default, the camera takes pictures as often as it can. It listens however to the topic</p>
<p>/comm/dds/command</p>
<p>for guest science commands that may tell it to take a single picture at a specific time, or to take pictures continuously. Such a command must use the app name "gov.nasa.arc.irg.astrobee.heat_cam_image" (which is the "s" field in the first command argument) for it to be processed.</p>
<p><a class="el" href="acoustics_camera.html">Acoustics camera</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
</body>
</html>
